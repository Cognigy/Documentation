---
title: "Transfer" 
slug: "transfer-vg" 
hidden: false 
---

# Transfer

[![Version badge](https://img.shields.io/badge/Updated in-v4.65-blue.svg)](./../../../release-notes/4.64.md)

<figure>
  <img class="image-center" src="{{config.site_url}}ai/flow-nodes/images/vg/transfer.png" width="80%" />
  <figcaption>Voice Gateway Transfer Node</figcaption>
</figure>

## Description

<div class="divider"></div>

The Transfer Node allows you to transfer an ongoing call to a Tel or SIP target.

## Settings

### General settings

| Parameter           | Type          | Description                                                                                                                                                                                                                                                                                                                                                                   | Transfer Type |
|---------------------|---------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
| Transfer Type       | Dropdown      | There are two transfer types: <br> - **Refer** — forwarding an existing call. <br> - **Dial** — creating a new outgoing call. If you want to use this type and still have the old Node version, add a new Voice Gateway Transfer Node in the Flow Editor and manually transfer the required settings from the old Node.                                                       | -             | 
| Reason              | CognigyScript | The reason for the handover. It is shown in Voice Gateway logs.                                                                                                                                                                                                                                                                                                               | All           | 
| Target              | CognigyScript | E.164 syntax or a SIP URI are supported.                                                                                                                                                                                                                                                                                                                                      | All           | 
| Caller ID           | Number        | The caller ID. Some carriers, like Twilio, require a registered number for outgoing calls.                                                                                                                                                                                                                                                                                    | Dial          | 
| Dial Music          | URL           | Custom audio or ring-back which plays to the caller while the outbound call is ringing.  Only the `.wav` or `.mp3` formats are supported.                                                                                                                                                                                                                                     | Dial          | 
| Timeout             | Number        | The amount of time (in seconds) that the virtual agent will ring before a [no-answer](../../../voicegateway/references/events/NO_ANSWER.md) timeout. The default value is 60 seconds.                                                                                                                                                                                         | Dial          |
| Enable Copilot      | Toggle        | Creates the UUIValue which will be sent to the Contact Center through SIP Headers. Will collect information from the Transcription Webhook field as well as from the VG Endpoint Copilot Config field to create the UUIValue. This setting requires a configured [Voice Copilot](../../endpoints/voice-copilot.md) Endpoint.                                                  | Dial          |                                                                                                                                                | Dial          |
| Copilot Headers Key | CognigyScript | Define the Copilot Headers Key. The key is provider-dependent. For example, for Genesys, the key is `User-to-User`. The generated value becomes accessible after engaging the **Transfer** Node, located in the input object as `{{ "{{input.UUIValue}}" }}`. Note that you do not need to handle this value manually. It is automatically generated and added to the header. | Dial          |

### Transcribe

| Parameter               | Type          | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Transfer Type |
|-------------------------|---------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
| STT Vendor              | Selector      | This option is only available on Voice Gateway. Select the desired STT Vendor. For custom use all lowercase letters like microsoft, google, aws, or nuance.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Dial          |
| STT Language            | Selector      | Select the desired STT Language. For custom languages, use the following format: de-DE, fr-FR, en-US.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Dial          |
| STT Label               | CognigyScript | The alternative name of the vendor is the one you [specify in the Voice Gateway Self-Service Portal](../../../voicegateway/webapp/applications.md#add-additional-tts-and-stt-vendor). If you have created multiple speech services from the same vendor, use the label to specify which service to use.                                                                                                                                                                                                                                                                                                                                                                                   | Dial          |
| Disable STT Punctuation | Toggle        | This parameter is active only when Google or Deepgram is selected in the STT Vendor setting.<br><br> Prevents the STT response from the virtual agent to include punctuation marks.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Dial          |
| Deepgram Tier           | Selector      | This parameter is active only when Deepgram is selected in the STT Vendor setting. <br><br> Choose a tier for your API request, and ensure that the model is available for the chosen STT language. For detailed information about Deepgram tiers, refer to the [Deepgram documentation](https://developers.deepgram.com/docs/tier).                                                                                                                                                                                                                                                                                                                                                      | Dial          |
| Deepgram Model          | Selector      | This parameter is active only when Deepgram is selected in the STT Vendor setting. <br><br> Choose a model for processing submitted audio. Each model is associated with a tier. Ensure that the selected tier is available for the chosen STT language.  For detailed information about Deepgram models, refer to the [Deepgram documentation](https://developers.deepgram.com/docs/model).                                                                                                                                                                                                                                                                                              | Dial          |
| Endpointing             | Toggle        | This parameter is active only when Deepgram is selected in the STT Vendor setting. <br><br> Deepgram's Endpointing feature watches streaming audio for long pauses that signal the end of speech. When it spots an endpoint, it finalizes predictions and returns the transcript, marking it as complete with the `speech_final` parameter set to `true`.  For detailed information about Deepgram Endpointing, refer to the [Deepgram documentation](https://developers.deepgram.com/docs/endpointing).<br><br>The duration for detecting the end of speech is preconfigured with a default value (10 milliseconds). If you want to change this value, use the Endpointing Time setting. | Dial          |
| Endpointing Time        | Number        | This parameter is active only when Deepgram is selected in the STT Vendor setting and the Endpointing toggle is enabled. <br><br> Customize the duration (in milliseconds) for detecting the end of speech. The default is 10 milliseconds of silence. Transcripts are sent after detecting silence, and the system waits until the speaker resumes or the required silence time is reached. Once either condition is met, a transcript is sent back with `speech_final` set to `true`.                                                                                                                                                                                                   | Dial          |
| Smart Formatting        | Toggle        | This parameter is active only when Deepgram is selected in the STT Vendor setting. <br><br> Deepgram's Smart Format feature applies additional formatting to transcripts to optimize them for human readability. Smart Format capabilities vary between models. When Smart Formatting is turned on, Deepgram will always apply the best-available formatting for your chosen model, tier, and language combination. For detailed examples, refer to the [Deepgram documentation](https://developers.deepgram.com/docs/smart-format). <br><br> Note that when Smart Formatting is turned on, punctuation will be activated, even if you have the Disable STT Punctuation setting enabled.  | Dial          |
| Google Model            | Dropdown      | This parameter is active only when Google is selected in the STT Vendor setting.<br><br>Utilizes one of Google Cloud Speech-to-Text transcription models, with the `latest_short` model being the default choice. For a detailed list of Google models, refer to the [Transcription models](https://cloud.google.com/speech-to-text/docs/transcription-model#transcription_models)  section in the Google Documentation. Keep in mind that the `default` value is a Google Model type that can be used if other models don't suit your specific scenario.                                                                                                                                 | Dial          |
| Transcription Webhook   | URL           | The Webhook is triggered with an HTTP POST whenever an interim or final transcription is received. Uses the default recognizer.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Dial          |
| Audio Stream Selection  | Selector      | Select the source of the audio stream: <br> - **Caller/Called** - both the incoming and outgoing audio streams of the caller and the called party. <br> - **Caller** - the incoming and outgoing audio stream of the caller. <br>- **Called** - the incoming and outgoing audio stream of the called party. <br> <br> Ensure that the selected audio stream matches the language specified for transcription. If no audio stream is provided, the system will use the one set in the beginning, which should also match the language specified for transcription.                                                                                                                         | Dial          |

### Answering Machine Detection

Answering Machine Detection (AMD) determines whether an outgoing call has been answered by a human or a machine (such as a voicemail or answering machine). When AMD is enabled, events are generated in the Flow to indicate the detection result, allowing you to take specific actions based on the outcome.

For example, if a call is transferred to a user and AMD detects a machine, you will receive an event indicating the machine detection.

| Parameter                    | Type     | Description                                                                                                                                                                             | Transfer Type |
|------------------------------|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
| Answering Machine Detection  | Toggle   | Indicates whether a call has been answered by a human agent or a machine.                                                                                                               | Dial          |
| Redirect on machine detected | Selector | Redirects the call back to the Flow in case a machine was detected.                                                                                                                     | Dial          |
| Redirect text                | Text     | Text to say after machine was detected before going back to the Flow. For example, `Mailbox detected, your call will be redirected back to the virtual agent. Please stay in the call`. | Dial          |

### Advanced

| Parameter                   | Type   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Transfer Type |
|-----------------------------|--------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
| Custom Transfer SIP Headers | Toggle | Data that needs to be sent as SIP headers in the generated SIP message.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | All           |
| Transfer SIP Headers        | JSON   | Array of objects listing SIP headers that should be sent to the transferee. Each object comprises a name and a value attribute.                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | All           |
| Referred By                 | String | This parameter is optional.<br><br> This setting allows you to change the original Referred By value, which can be a SIP URI or a user identifier such as a phone number. To define the Referred By value, you can use the following patterns:<br>- **SIP URI** - `sip:[referred-by]@custom.domain.com`. In this case, the entire SIP URI will be sent as the Referred-By header. Example: `"Referred-by": "sip:CognigyOutbound@custom.domain.com"`.<br>- **User Identifier** - `sip:[referred-by]@[SIP FROM Domain from carrier config]`. Example, `"Referred-By": "sip:CognigyOutbound@sip.cognigy.ai"`. | Refer         |