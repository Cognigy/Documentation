---
title: "4.79"
slug: "4.79"
hidden: false
---

# 4.79

{! _includes/release-notes/upcoming-feature-removals.md !}

## 4.79.0

### Cognigy.AI

**Released** June 25th, 2024

#### Features



#### Improvements



#### Bugfixes



### Cognigy Voice Gateway

**Released** June 25th, 2024

#### Improvements

- Audio Pre-Caching is enabled by default. Pre-synthesizes and caches subsequent prompts during playback for seamless transitions.
- Improved by centralizing the defintion of the `call_terminated_by` values
- Improved by updating vg-speech-utils to support `VG_TTS_TRIM_SILENCE_DISABLE_BY_ACC_SID`
- Improved by adding pre commit hook performing npm audit and npm run lint:fix 
- Improved by support SemVer tagged release images

#### Bugfixes

- Fixed a bug where the `call_termination_by` value was incorrect
- Fixed a bug where when registering over tls contact header should have appropriate sip scheme and port
- Fixed a bug where non-existing Contact header in 200 OK response to REGISTER was leading to a crash
- Resolved an issue where the incorrect default model was used for Google-based Speech-To-Text conversions, resulting in potential inaccuracies. Transcriptions should now be more accurate by using the `latest_short` model for recognition


### Cognigy Webchat

### Cognigy xApps

### Cognigy AI Copilot

### Cognigy Live Agent

### Cognigy Insights



#### Improvements



#### Bugfixes


### Infrastructure

### Features

- The feature "Atmosphere Sounds" adds the possibility to insert additional audio tracks into the conversation. One common usage is to add background ambient noise to simulate an office environment, but there are many possibile ways to use this feature.

```js
{
	"verb": "dub",
	action: "addTrack" | "removeTrack" | "silenceTrack" | "sayOnTrack" | "playOnTrack";
	track: string;
	play?: string;
	say?: string | object;
	loop?: boolean;
	gain?: number | string;
}
```

#### Cognigy.AI + Insights + AI Copilot

##### Rollback Instructions

In case you need to revert to version 4.78.0, run the following script since we've added new AI Copilot configuration fields for the Endpoints.

1. Establish a connection to the MongoDB instance within your cluster and execute the database script:

    ```yaml
    kubectl exec -it -n mongodb mongodb-0 -- bash
    mongo -u $MONGODB_ROOT_USER -p $MONGODB_ROOT_PASSWORD --authenticationDatabase admin

    use service-resources;
    db.endpoints.updateMany({},{$unset:{"handoverSettings.agentAssistSettings.copilotType":""}});
    ```

2. Execute the Helm Chart rollback.

#### Cognigy Voice Gateway

- Add `VG_DISABLE_DIAL_PAI_HEADER` to `feature-server` StatefulSet and Deployment. It can be controlled via `.Values.featureServer.disableDialPaiHeader`. The default value is `false`.
- Add `PRIVATE_IP_ONLY` to `feature-server` StatefulSet and Deployment, and `sbc-sip` StatefulSet and DaemonSet. It can be controlled via `.Values.drachtio.privateIpOnly`. The default value is `false`.
- Rename `JAMBONES_EAGERLY_PRE_CACHE_AUDIO` to `VG_EAGERLY_PRE_CACHE_AUDIO` in the `feature-server` StatefulSet and Deployment.
- Add `ENABLE_PING_OPTIONS` to the `vg-webapp` deployment.
- Add `.extraEnvVars` to all containers of a template. Optionally, specify a list of extra environment variables to be added to the container.
  Containers:
    - `api-ban`
    - `api-server`
    - `billing-app`
    - `drachtio`
    - `feature-server`
    - `freesSWITCH`
    - `heplify-server`
    - `homer`
    - `rtp-engine`
    - `rtp-engine-sidecar`
    - `sbc-call-router`
    - `sbc-inbound`
    - `sbc-outbound`
    - `sbc-sip-sidecar`
    - `test-call-manager`
    - `webapp`<br>
    Example:
    ```yaml
    myService:
      extraEnvVars:
        - name: FOO
          value: "bar"
    ```
- Rename the `test-call-manager` image from `voicegateway-test-call-manager` to `vg-test-call-manager`.
- Rename the `feature-server` image from `jambonz-feature-server` to `vg-feature-server`.
- Expose the drachtio container metrics port for Prometheus monitoring via `.Values.drachtio.metricsPort`. The default port is `8088`.
- Enable the environment variable `VG_TTS_TRIM_SILENCE`. It can be controlled via `.Values.featureServer.trimTts`. The default value is `true`. This configuration removes trailing silence (periods of no sound) at the end of Microsoft TTS audio files.
- Add a new environment variable to `feature-server` to control the trimming of trailing silence for Microsoft TTS services. By default, the trimming is enabled and `VG_TTS_TRIM_SILENCE_DISABLE_BY_ACC_SID` is not set. If you want to add an account sid to the ignore list, add `VG_TTS_TRIM_SILENCE_DISABLE_BY_ACC_SID` to the `extraEnvVars` property:
    ```yaml
    featureServer:
      extraEnvVars:
        - name: VG_TTS_TRIM_SILENCE_DISABLE_BY_ACC_SID
          value: "<account_sid1>,<account_sid2>,..."
    ```

#### Version Compatibility Matrix

The version compatibility matrix was updated for the following Cognigy products:

- [Cognigy.AI, Insights, and AI Copilot](../ai/installation/version-compatibility-matrix.md)
- [Live Agent](../live-agent/installation/deployment/version-compatibility-matrix.md)
- [Cognigy Voice Gateway](../voice-gateway/installation/version-compatibility-matrix.md)