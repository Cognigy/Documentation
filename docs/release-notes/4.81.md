---
title: "4.81"
slug: "4.81"
hidden: false
---

# 4.81

{! _includes/release-notes/upcoming-feature-removals-4.79.md !}

!!! warning "Security Changes and their Impact"
    - While addressing security vulnerabilities, changes in third-party vocabularies may cause some exact matching cases to fail, but conversations should continue uninterrupted. Re-training the model will resolve exact matching issues. If persistent errors occur, contact [Cognigy technical support](../help/get-help.md).
    - While addressing security vulnerabilities, changes in third-party vocabularies may cause slight variations in tokenization for certain locales. For example, in French, hyphens may now be included as part of suffixes in tokens. Variations in token outputs are expected. If you encounter any significant issues, contact [Cognigy technical support](../help/get-help.md).

{! _includes/release-notes/resolve-llm-connection-error.md !}

## 4.80.0

### Cognigy.AI

**Released** July 23rd, 2024

#### Features


#### Improvements


#### Bugfixes


### Cognigy Voice Gateway

**Released** July 23rd, 2024

#### Features

#### Improvements

- Added support to complex `refer-to` and `referred-by` URI
- Included a new metric for duration of Voice Gateway commands
- Added a new option `Enable User No Input Timeout` inside Set Session Config to enable or disable the User no Input timeout feature

#### Bugfixes

- Fixed an issue where the 200 OK (INVITE) response `Contact` was using `sips` scheme instead of `sip`
- Fixed an issue where the `Contact` header did not contain the private IP on Private CIDR
- Fixed an issue where the `Contact` header had the wrong scheme in a Re-INVITE
- Fixed an issue where it was not possible for the Service Provider user to delete an Account Phone Number
- Fixed an issue where escape characters like `"\r"`, `"\t"`,  `"\n"` in a text lead to invalid SSML when Azure streaming was enabled 


### Cognigy Live Agent

**Released** July 23rd, 2024

#### Bugfixes

### Cognigy Insights

**Released** July 23rd, 2024

#### Improvements


#### Bugfixes


### Infrastructure

#### Cognigy.AI + Insights + AI Copilot

#### Cognigy Voice Gateway

- Updated `vg-freeswitch-mrf` to `0.9.1`
- Added new environment variable `AZURE_SPEECH_USE_SINGLE_CONNECTION` to `feature-server` Deployment and StatefulSet - container `freeswitch`. It can be controlled via `{{ .Values.freeswitch.azureSttUseSingleConnection }}`. The default value is `true`
- Changed the freeswitch `{{ .Values.freeswitch.bufferSecs }}` default value to `5` seconds


##### Rollback Instructions

In case you need to revert to a version below 4.80.0, run the following script as we've added new fields to the Project Settings in Cognigy.AI.

1. Establish a connection to the MongoDB instance within your cluster and execute the database script:

    ```
    kubectl exec -it -n mongodb mongodb-0 -- bash
    mongo -u $MONGODB_ROOT_USER -p $MONGODB_ROOT_PASSWORD --authenticationDatabase admin

    use service-resources;
    db.agentsettings.updateMany({},{$unset:{"generativeAISettings.useCasesSettings.answerExtraction":""}});
    ```

2. Execute the Helm Chart rollback.

#### Cognigy Voice Gateway

- Upgrade `postgres-exporter` to `0.15.0-debian-12-r17`
- Upgrade `postgres` to `14.12.0-debian-12-r15`
- Update `mysql` to `8.0.37-debian-12-r5 `

- Increase the resources of `postgresql`:
    - CPU from `0.5` to `1`.
    - Memory from `3Gi` to `4Gi`.

    ```yaml
    postgresql:
      primary:	
        resources:
          requests:
            cpu: "1"
            memory: 4Gi
          limits:
            cpu: "1"
            memory: 4Gi
    ```
  
#### Version Compatibility Matrix

The version compatibility matrix was updated for the following Cognigy products:

- [Cognigy.AI, Insights, and AI Copilot](../ai/installation/version-compatibility-matrix.md)
- [Live Agent](../live-agent/installation/deployment/version-compatibility-matrix.md)
- [Cognigy Voice Gateway](../voice-gateway/installation/version-compatibility-matrix.md)