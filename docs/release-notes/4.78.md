---
title: "4.78"
slug: "4.78"
hidden: false
---

# 4.78

{! _includes/release-notes/upcoming-feature-removals.md !}

## 4.78.0

### Cognigy.AI

**Released** June 11th, 2024

#### Features

- Added charts for [monitoring the number of Knowledge Chunks and Queries metrics](../ai/administer/access/admin-center.md#knowledge-ai) according to a [new license](../ai/empower/knowledge-ai/activate.md#apply-for-a-license) for the Knowledge AI feature. To ingest new Knowledge Sources after the v4.78.0 update, a new license key for the Knowledge AI feature should be updated in the Cognigy.AI installation, and the maximum Knowledge Chunks quota should be allocated for the organization.

#### Improvements

- Added the functionality to record user acceptance of the [Privacy Notice](../webchat/v3/features.md#privacy-notice) within the [Contact Profile](../ai/analyze/contact-profiles.md#profile-schema)
- Added the [Minimize](../webchat/v3/features.md#controlling-the-chat-window) button at the top of the Chat screen within the Webchat v3 interface 
- Updated the Webchat v3 `preview` tag to `beta`
- Renamed the Organisation Details page to [Admin Center](../ai/administer/access/admin-center.md)
- Removed the Knowledge AI trial notification from the UI
- Improved the Copilot section in the Endpoint Settings to differentiate between configurations for the AI Copilot Whisper and AI Copilot workspace
- Updated the AI Copilot configuration. Adding the AI Copilot config via API is no longer mandatory. In the Copilot section of the Endpoint Settings, you can choose Workspace > None and use a Copilot: Set Grid Node to set up the workspace within your Flow
- Added support for multiple languages in addition to English
- Increased the size limit of a custom field in the Cognigy.AI OData Endpoint. Now, the maximum length of a custom field is 1024 characters

#### Bugfixes

- Fixed the issue of insufficient input validation enabling HTML injection in notification emails
- Fixed the issue where deleting a connection selected in the HTTP Request Node breaks Node execution, even after setting the authType to `none`
- Fixed the issue where the original user input would be replaced by the text of a Think Node in the Transcript Explorer
- Fixed the issue where an NLU warning was displayed due to an error in merging the NLU result
- Fixed the issue where adaptive cards weren't displaying all container and font styling colors

### Cognigy Insights

**Released** June 11th, 2024

#### Improvements

- Renamed the term virtual agents to AI Agents and the term agents to human agents in the Transcript Explorer

#### Bugfixes

- Fixed the issue where the Step Explorer was giving the error `Invalid request for Step report. Starting step and containing step do not match any of the steps` when the step report is filtered by `snapshotId`

### Cognigy Live Agent

**Released** June 11th, 2024

#### Improvements

- Added the new `queue_details` endpoint for conversations to get information about the conversation queue position

#### Bugfixes

- Fixed an issue where automation rules might not behave as expected because of a race condition during their execution 

### Cognigy Voice Gateway

**Released** June 11th, 2024

### Improvements

- Added support for `REGISTER` over TLS to ensure secure communication channels are established for user registrations
- Limited `utterance_end_ms` to (1000, 5000) per discussion with Deepgram
- Removed an asymmetric flag on the offer to the B party for re-invite, as port learning should still occur
- Added a pre-check mechanism to verify if SIP gateways are included in a restricted list before initiating outbound calls
- Added new Microsoft voices and regions now have access to a broader range of voice and language options supported by Microsoft's text-to-speech
- Added support for additional Google regions to improve geographical coverage and accessibility for users across various locales

### Bugfixes

- Fixed the issue where the database schema upgrade was failing due to a non-existing schema
- Fixed the issue where recording audio failed for AWS
- Fixed the issue where Deepgram TTS could fail
- Fixed the race condition related to playing filler noise during idle times while waiting for commands
- Fixed a deadlock in the `say` verb that occurred while waiting for playback to stop, especially when the `say` verb was terminated
- Fixed the race condition issue in the `gather` verb related to Google services
- Fixed the race condition during the Dial process, which occurred when the caller hung up as the Dial was initiating
- Fixed the issue where the Automatic Speech Recognition (ASR) timer was not being restarted after receiving a partial transcript
- Fixed the issue where pre-cached audio could cause unexpected behavior
- Fixed the issue with the `gather` verb where an empty Deepgram transcript was incorrectly saved
- Fixed the issue where `bargeIn` failed to function after the first attempt, even when `sticky=true` was set
- Fixed the inconsistency with `bargeIn` where the sticky attribute only worked for two attempts
- Fixed the issue where a SIPREC session was not cleared properly

### Infrastructure

#### Cognigy.AI + Insights + AI Copilot

##### Rollback Instructions

In case you need to revert to version 4.78.0, run the following script since we've added new AI Copilot configuration fields for the Endpoints.

1. Establish a connection to the MongoDB instance within your cluster and execute the database script:

    ```
    kubectl exec -it -n mongodb mongodb-0 -- bash
    mongo -u $MONGODB_ROOT_USER -p $MONGODB_ROOT_PASSWORD --authenticationDatabase admin

    use service-resources;
    db.endpoints.updateMany({},{$unset:{"handoverSettings.agentAssistSettings.copilotType":""}});
    ```

2. Execute the Helm Chart rollback.

#### Cognigy Voice Gateway

- Enable the environment variable `VG_TTS_TRIM_SILENCE` by default `.Values.featureServer.trimTts: true`. This trims trailing silence (zero-amplitude samples) from the end of an audio file (Microsoft TTS only)
- Add a new environment variable to feature-server to control the trim trailing silence functionality for Microsoft speech services by `account_sid`. By default, the trimming is enabled and `VG_TTS_TRIM_SILENCE_DISABLE_BY_ACC_SID` is not set. To add an `account_sid` to the `ignore` list, add `VG_TTS_TRIM_SILENCE_DISABLE_BY_ACC_SID` to the `extraEnvVars` property as shown below

```
featureServer:
  extraEnvVars:
    - name: VG_TTS_TRIM_SILENCE_DISABLE_BY_ACC_SID
      value: "<account_sid1>,<account_sid2>,..."
```


#### Version Compatibility Matrix

The version compatibility matrix was updated for the following Cognigy products:

- [Cognigy.AI, Insights, and AI Copilot](../ai/installation/version-compatibility-matrix.md)
- [Live Agent](../live-agent/installation/deployment/version-compatibility-matrix.md)
- [Cognigy Voice Gateway](../voice-gateway/installation/version-compatibility-matrix.md)