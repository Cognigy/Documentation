---
title: "Microsoft Azure OpenAI"
slug: "microsoft-azure-openAI"
description: "To start using a Microsoft Azure OpenAI LLM with Cognigy.AI features, add the LLM and apply it to the corresponding use case."
hidden: false
tags:
  - llms
  - Microsoft Azure OpenAI
  - Microsoft Azure OpenAI models
  - oauth2
  - oauth2.0 connection
---

# Microsoft Azure OpenAI

[![Version badge](https://img.shields.io/badge/Updated in-v2025.17-blue.svg)](../../../../release-notes/2025.17.md)

To start using a Microsoft Azure OpenAI model with Cognigy.AI features, follow these steps:

1. [Add a Model](#add-models)
2. [Apply the Model](#apply-the-model)

## Add Models

You can add a model using one of the following interfaces:

- [GUI](#add-models-via-gui)
- [API](#add-models-via-the-api)

### Add Models via GUI

You can add a model provided by Azure OpenAI to Cognigy.AI in **Build > LLM**. To add the model, you will need the following parameters:

=== "Standard Model"

    | Parameter       | Option  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
    |-----------------|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | Connection Type |         | Select one of the following authorization methods: API Key or OAuth2.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |      
    |                 | API Key | Enter the [Azure API Key](https://learn.microsoft.com/en-us/azure/cognitive-services/openai/quickstart?tabs=command-line&pivots=rest-api#retrieve-key-and-endpoint). This value can be found in the **Keys & Endpoint** section when examining your resource from the Azure portal. You can use either `KEY1` or `KEY2`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
    |                 | OAuth2  | This method is hidden behind the `FEATURE_ENABLE_OAUTH2_AZURE_CONNECTION_WHITELIST` feature flag. You can use any OAuth2-compliant provider. OAuth 2.0 offers more control and security than API keys by allowing specific permissions, expiring tokens, and reducing exposure through short-lived tokens instead of constant client secret use. To use this type of connection, fill in the following fields:<br>- **Client ID** — add the Application (client) ID assigned to your app. This ID can be found in the Microsoft Entra admin center: go to **App Registrations**, select an app, then click **Overview**.<br>- **Client Secret** — add the application secret created in the **Certificates & secrets** section in the Microsoft Entra admin center: go to **App Registrations**, select an app, then click **Overview**.<br>- **Oauth Url** — add the URL to retrieve the access token. This URL points to the `/token` endpoint on the authorization server. The URL can have any format that returns an access token. <br>- **Scope** — add a list of scopes for user permissions, for example, `urn:grp:chatgpt`.<br><br> Cognigy.AI uses the following steps to make requests with OAuth 2.0 to an Azure OpenAI model: <ol><li>**Requesting a token.** Cognigy.AI sends an HTTP POST request to <code>Oauth Url</code> with the following parameters: <code>Client ID</code>, <code>Client Secret</code>, and <code>Scope</code>.</li><li>**Receiving the token.** The authorization server validates the request and returns an access token to Cognigy.AI.</li><li>**Using the token.** When making requests to the Azure OpenAI model, Cognigy.AI includes the received token in the request instead of using an API key.</li></ol> |    
    | Resource Name   |         | Enter the [resource name](https://learn.microsoft.com/en-us/azure/cognitive-services/openai/how-to/create-resource?pivots=web-portal#create-a-resource). To find this value, go to the **Microsoft Azure** home page. Under **Azure services**, click **Azure OpenAI**. In the left-side menu, under the **Azure AI Services** section, select **Azure OpenAI**. Copy the desired resource name from the **Name** column.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
    | Deployment Name |         | Enter the [deployment name](https://learn.microsoft.com/en-us/azure/cognitive-services/openai/how-to/create-resource?pivots=web-portal#deploy-a-model). To find this value, go to the **Microsoft Azure** home page. Under **Azure services**, click **Azure OpenAI**. In the left-side menu, under **Azure AI Services**, select **Azure OpenAI**. Select a resource from the **Name** column. On the resource page, go to **Resource Management > Model deployments**. On the **Model deployments** page, click **Manage Deployments**. On the **Deployments** page, copy the desired deployment name from the **Deployment name** column.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
    | API Version     |         | Enter the [API version](https://learn.microsoft.com/en-us/azure/cognitive-services/openai/reference#rest-api-versioning). The API version to use for this operation in the `YYYY-MM-DD` format. Note that the version may have an extended format, for example, `YYYY-MM-DD-preview`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
    | Custom URL      |         | This parameter is optional. You can use it to route connections between your clusters and the Azure OpenAI provider through dedicated proxy servers for added security. Specify the URL based on the connection type you selected:<ul><li>**API Key** — use the pattern `https://<resource-name>.openai.azure.com/openai/deployments/<deployment-name>/<model-type>?api-version=<api-version>`.</li> <li>**OAuth2** — the custom URL can be any valid endpoint URL. The URL must be complete, including any required query parameters.</li></ul>When you add a custom URL, the **Resource Name**, **Deployment Name**, and **API Version** fields will be ignored.

=== "Custom Model"

    | Parameter       | Option  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
    |-----------------|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | Model Type      |         | Select **Chat** for models that support the Chat Completions API, **Completion** for the Completions API, or **Embedding** for the Embedding API. For more information, refer to the [Azure OpenAI](https://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/models) documentation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
    | Model Name      |         | Enter the ID of the model that you want to use as a custom model. To find model IDs, refer to the [Azure OpenAI](https://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/models) documentation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
    | Connection Type |         | Select one of the following authorization methods: API Key or OAuth2.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |      
    |                 | API Key | Enter the [Azure API Key](https://learn.microsoft.com/en-us/azure/cognitive-services/openai/quickstart?tabs=command-line&pivots=rest-api#retrieve-key-and-endpoint). This value can be found in the **Keys & Endpoint** section when examining your resource from the Azure portal. You can use either `KEY1` or `KEY2`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
    |                 | OAuth2  | This method is hidden behind the `FEATURE_ENABLE_OAUTH2_AZURE_CONNECTION_WHITELIST` feature flag. You can use any OAuth2-compliant provider. OAuth 2.0 offers more control and security than API keys by allowing specific permissions, expiring tokens, and reducing exposure through short-lived tokens instead of constant client secret use. To use this type of connection, fill in the following fields:<br>- **Client ID** — add the Application (client) ID assigned to your app. This ID can be found in the Microsoft Entra admin center: go to **App Registrations**, select an app, then click **Overview**.<br>- **Client Secret** — add the application secret created in the **Certificates & secrets** section in the Microsoft Entra admin center: go to **App Registrations**, select an app, then click **Overview**.<br>- **Oauth Url** — add the URL to retrieve the access token. This URL points to the `/token` endpoint on the authorization server. The URL can have any format that returns an access token. <br>- **Scope** — add a list of scopes for user permissions, for example, `urn:grp:chatgpt`.<br><br> Cognigy.AI uses the following steps to make requests with OAuth 2.0 to an Azure OpenAI model: <ol><li>**Requesting a token.** Cognigy.AI sends an HTTP POST request to <code>Oauth Url</code> with the following parameters: <code>Client ID</code>, <code>Client Secret</code>, and <code>Scope</code>.</li><li>**Receiving the token.** The authorization server validates the request and returns an access token to Cognigy.AI.</li><li>**Using the token.** When making requests to the Azure OpenAI model, Cognigy.AI includes the received token in the request instead of using an API key.</li></ol> |    
    | Resource Name   |         | Enter the [resource name](https://learn.microsoft.com/en-us/azure/cognitive-services/openai/how-to/create-resource?pivots=web-portal#create-a-resource). To find this value, go to the **Microsoft Azure** home page. Under **Azure services**, click **Azure OpenAI**. In the left-side menu, under the **Azure AI Services** section, select **Azure Open AI**. Copy the desired resource name from the **Name** column.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
    | Deployment Name |         | Enter the [deployment name](https://learn.microsoft.com/en-us/azure/cognitive-services/openai/how-to/create-resource?pivots=web-portal#deploy-a-model). To find this value, go to the **Microsoft Azure** home page. Under **Azure services**, click **Azure OpenAI**. In the left-side menu, under **Azure AI Services**, select **Azure Open AI**. Select a resource from the **Name** column. On the resource page, go to **Resource Management > Model deployments**. On the **Model deployments** page, click **Manage Deployments**. On the **Deployments** page, copy the desired deployment name from the **Deployment name** column.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
    | API Version     |         | Enter the [API version](https://learn.microsoft.com/en-us/azure/cognitive-services/openai/reference#rest-api-versioning). The API version to use for this operation in the `YYYY-MM-DD` format. Note that the version may have an extended format, for example, `YYYY-MM-DD-preview`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
    | Custom URL      |         | This parameter is optional. You can use it to route connections between your clusters and the Azure OpenAI provider through dedicated proxy servers for added security. Specify the URL based on the connection type you selected:<ul><li>**API Key** — use the pattern `https://<resource-name>.openai.azure.com/openai/deployments/<deployment-name>/<model-type>?api-version=<api-version>`.</li><li>**OAuth2** — the custom URL can be any valid endpoint URL. The URL must be complete, including any required query parameters. For example, to specify `api-version`, use `<url>?api-version=<value>`.</li></ul>When a Custom URL is added, the **Resource Name**, **Deployment Name**, and **API Version** fields will be ignored.

Apply changes. Check if the connection was set up by clicking **Test**.

{! _includes/ai/generative-ai/add-model-via-api.md !}

### Deprecation of Old Connections for Microsoft Azure OpenAI

In recent releases, we have updated the connection settings to Microsoft Azure OpenAI models.

If you have old connections (for example, created in the 4.53 release) to Azure OpenAI,
these connections have an `AzureOpenAIProvider` type and are marked with a **Deprecated** label.
Although these connections can still be active,
we strongly recommend creating a model with the new `AzureOpenAIProviderV2` type,
as old connection types will no longer be available in the future.

Note that for some Microsoft Azure OpenAI models, such as `text-embedding-ada-002` for knowledge search features, you might encounter the following error when an LLM is triggered:
`Error while performing knowledge search. Remote returned error: Search failed: Could not fetch embeddings due to missing API resource name for Azure OpenAI`.
To resolve the issue, recreate the model and the connection so that both are updated to the latest format.

## Apply the Model

{! _includes/ai/generative-ai/apply-model.md !}


## More Information

- [Other LLM Operations](../other-operations.md)
- [Overview](../overview.md)
- [All LLM Providers](all-providers.md)
- [Model support by feature](../model-support-by-feature.md)
- [OpenAI](openai.md)